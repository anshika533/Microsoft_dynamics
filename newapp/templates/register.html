{% extends 'layout.html' %}
{% load static %}

{% block title %}Register{% endblock %}

{% block content %}
<style>
.register-card {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 30px;
    width: 100%;
    max-width: 400px;
    margin: 50px auto;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    animation: fadeInUp 0.8s ease;
}
@keyframes fadeInUp {
    from { transform: translateY(50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}
</style>

  <div class="container">
    <div class="register-card">
      <h3 class="text-center mb-4">Create Account</h3>
      {% if form.errors %}
        <div class="alert alert-danger">
          {% for field, errors in form.errors.items %}
            {% for error in errors %}
              <p>{{ error }}</p>
            {% endfor %}
          {% endfor %}
        </div>
      {% endif %}

      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-warning">{{ message }}</div>
        {% endfor %}
      {% endif %}

      <form method="POST">
        {% csrf_token %}
        <div class="mb-3">{{ form.username }}</div>
        <div class="mb-3">{{ form.email }}</div>
        <div class="mb-3">{{ form.password1 }}</div>
        <div class="mb-3">{{ form.password2 }}</div>
        <button type="submit" class="btn btn-success w-100">Register</button>
      </form>

      <p class="mt-3 text-center">
        Already have an account? <a href="{% url 'login' %}" class="fw-bold">Login</a>
      </p>
    </div>
  </div>

   <script>
  // Automatically hide alerts after 5 seconds
  setTimeout(function () {
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(function(alert) {
      alert.style.transition = "opacity 0.5s ease";
      alert.style.opacity = "0";
      setTimeout(() => alert.remove(), 500); // remove from DOM after fade out
    });
  }, 5000); // test with 5 seconds
</script>
{% endblock %}
